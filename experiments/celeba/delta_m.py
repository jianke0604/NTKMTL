import numpy as np

n_tasks = 40

# stl results
BASE = np.array(
    [0.6736886, 0.68121034, 0.81524944, 0.5760289, 0.7205613,
     0.8555076, 0.38203922, 0.58225113, 0.787647, 0.8321292,
     0.5029583, 0.68694085, 0.6781237, 0.5240381, 0.5161666,
     0.95694304, 0.6968786, 0.67976356, 0.8808315, 0.8582131,
     0.97034, 0.93267566, 0.5057539, 0.40307626, 0.9703734,
     0.48644206, 0.60786104, 0.5261031, 0.56907415, 0.59815097,
     0.6858371, 0.924108, 0.5424991, 0.7406311, 0.71019936,
     0.87365365, 0.9305602, 0.33704284, 0.7647628, 0.91907]
)

SIGN = np.array([1] * n_tasks)
KK = np.ones(n_tasks) * -1


def delta_fn(a):
    # *100 for percentage
    return (KK ** SIGN * (a - BASE) / BASE).mean() * 100.0

def delta_fn_array(a):
    # *100 for percentage
    return (KK ** SIGN * (a - BASE) / BASE) * 100.0